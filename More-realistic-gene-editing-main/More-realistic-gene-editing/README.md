````markdown
-更真实的基因编辑（More realistic gene editing）— Fabric 基因编辑科研流程模拟模组（开发中）

> 状态：🚧 正在开发 / WIP（Work In Progress）
>
> 更真实的基因编辑（More realistic gene editing） 是一个面向高年级理工科用户（化学/生物/生信方向）的 Minecraft Fabric 模组，目标是以“科研流程模拟”的方式，构建一个接近真实研究管线的交互体验：从样本、构建、PCR、测序、终端分析、编辑、递送到验证与伦理讨论，强调**证据链、失败模式、不确定性与质控**，而不是“一键成功”的游戏化简化。

---

## 目录

- [项目定位](#项目定位)
- [当前进度（开发中）](#当前进度开发中)
- [核心理念](#核心理念)
- [功能概览（规划与实现状态）](#功能概览规划与实现状态)
- [技术亮点](#技术亮点)
- [安装与运行](#安装与运行)
- [从源码构建](#从源码构建)
- [玩法快速上手（概念性）](#玩法快速上手概念性)
- [项目结构](#项目结构)
- [路线图（Roadmap）](#路线图roadmap)
- [已知限制与注意事项](#已知限制与注意事项)
- [伦理与免责声明](#伦理与免责声明)
- [贡献指南](#贡献指南)
- [许可协议](#许可协议)

---

## 项目定位

GenomeWorkbench 旨在把“基因编辑”从一个抽象名词变成可交互、可验证、可迭代的科研模拟系统：

- 强调 DBDEVI 科研闭环：  
  Design → Build → Deliver → Edit → Validate → Iterate
- 不追求“完美复刻现实实验细节”，而是更关注科研中真正重要的部分：  
  方案设计的约束、数据证据的形成、失败模式的可解释性、风险与伦理的权衡。

> 本模组用于**教学与科研流程理解的模拟**，不是现实实验工具，也不提供现实实验可直接照搬的操作配方或参数。

---

## 当前进度（开发中）

- ✅ 已完成/正在完善：项目架构设计、数据模型规划、核心终端与序列切片方案定型
- 🧪 开发中：Fabric 工程脚手架、基础方块/物品、网络切片协议、Genome Terminal GUI 原型
- 🧩 计划实现：PCR/电泳/测序/编辑/递送/验证设备链路与项目评分
- 📦 尚未发布稳定版：目前仅为 **Alpha/WIP** 状态，功能与数据结构仍可能频繁调整

请注意：
- 目前阶段可能存在不完整功能、兼容性问题、存档不稳定（数据结构变更导致）等情况  
- 适合开发者与早期测试者参与，不建议普通玩家用作长期生存档核心模组

---

## 核心理念

1. 不存全量基因组序列  
   真实基因组可能极大，游戏里存储/渲染全量会导致性能灾难。我们采用：
   - `baseAt(pos) -> A/C/G/T` 的确定性生成 / 或按需切片
   - GUI 仅展示窗口（200–1000 bp），支持坐标跳转与 motif 搜索  
   - 编辑结果仅保存 **Patch/差分**，渲染时叠加

2. 服务器权威（Server-authoritative）
   关键数据在服务器端，客户端终端通过 C2S/S2C 请求窗口切片，避免作弊与网络/存档爆炸。

3. 科研证据链与质控优先  
   “成功”不等于“正确”。模组将通过报告系统体现科研流程中的验证逻辑：
   - PCR/电泳报告（抽象）
   - 测序摘要与质量指标（抽象）
   - 编辑结果的比例谱与风险评分（抽象）
   - 表型与复核报告（抽象）

4. **伦理与合规不是装饰**  
   模组内置伦理案例库（Casebook），用客观方式呈现真实争议事件的决策与后果模拟，强调合规与风险意识。

---

## 功能概览（规划与实现状态）

> 说明：以下为“目标功能集合”，实际以仓库最新进度为准。

### 1) Genome Terminal（基因组终端）— 核心功能
- [ ] 序列窗口分页显示（200–1000 bp）
- [ ] 坐标跳转（chr/pos 或 pos）
- [ ] motif 搜索与高亮（PAM/限制性位点/引物位点等概念化搜索）
- [ ] 标注层：切割位点、突变位点、候选窗口、覆盖/质量摘要（抽象）
- [ ] 请求式切片协议 + 缓存 + 限流

### 2) 分子克隆与构建（Build）
- [ ] 构件（parts）系统：启动子/表达盒/报告元件/模板片段（抽象）
- [ ] 组装方式（至少 1–2 种概念化工艺路线）
- [ ] 产物：构建体/载体对象（带版本与hash）
- [ ] 质控：确认报告（抽象）

### 3) PCR / 电泳（Validate 前置）
- [ ] PCR 设备：引物选择与反应策略（抽象，避免现实参数）
- [ ] 电泳槽：条带模式可视化与解释（抽象）

### 4) 测序（Readout）
- [ ] 二代/三代测序“差异化输出”（reads 摘要、错误率、读长分布抽象）
- [ ] `ReadSet`：不存全量 reads，仅存摘要 + seed，可按需生成窗口级读段

### 5) 编辑器（Edit）
- [ ] CRISPR 敲除（indel 谱抽象）
- [ ] 精密编辑（二选一：碱基编辑或 Prime 编辑的抽象模型）
- [ ] 产出 `EditOutcome`：主结果比例、副产物、风险评分、嵌合度（抽象）

### 6) 递送（Deliver）
- [ ] 至少一种递送方式（如 LNP 或电穿孔，抽象成效率/毒性/风险曲线）
- [ ] 细胞/组织上下文差异（第一版可用“细胞系卡片”表示）

### 7) 表型与验证闭环（Validate）
- [ ] 表型测试台：输出表型指标与证据等级
- [ ] 复核：测序/定量等复核报告（抽象）

### 8) 项目/任务线与评分（Iterate）
- [ ] 至少一条可通关科研项目线
- [ ] 评分维度：证据链、准确性、风险、安全、合规、成本/时间

### 9) 伦理案例库（Ethics Casebook）
- [ ] 案例学习/决策模拟 GUI
- [ ] 合规评分与项目后果反馈
- [ ] 明确免责声明与教育目的

---

## 技术亮点

- 按需切片的“伪基因组”引擎**：`baseAt` 确定性生成 + 2-bit 编码
- Patch 差分编辑**：只存改动点/区间，渲染时叠加
- 客户端请求窗口数据**：网络包按页传输、长度上限、LRU 缓存、简单限流
- 报告驱动玩法**：每一步产出可保存的 QCReport，形成可追溯研究记录
- 可扩展数据源（规划）**：未来支持“云端真实参考基因组切片 API”（后期研究，不阻塞首发）

---

## 安装与运行

> **当前为开发中项目**，安装/发布包的可用性取决于是否已经提供 Release。

### 玩家安装（将来发布后）
1. 安装对应版本的 **Fabric Loader** 与 **Fabric API**
2. 将模组 `.jar` 放入 `.minecraft/mods`
3. 启动游戏并在模组列表中确认加载成功

### 开发版提醒
- 开发版可能不保证存档兼容性  
- 建议在独立测试存档中使用

---

## 从源码构建

> 以下命令为常规 Gradle/Fabric Loom 用法；具体以仓库实际 `build.gradle` 为准。

```bash
# 拉取仓库后
./gradlew build

# 运行开发环境客户端
./gradlew runClient

# 运行开发环境服务端（如配置了）
./gradlew runServer

# 运行单元测试
./gradlew test
````

---

 玩法快速上手（概念性）

> 说明：此处描述的是“模组目标体验”，实际内容以当前开发完成度为准。

1. 采集样本并进入实验室链路
2. 通过 PCR/电泳（抽象）获得初步证据
3. 使用测序设备获得 reads 摘要与质量指标（抽象）
4. 打开 Genome Terminal：

    跳转到目标坐标
    搜索 motif（例如 PAM/限制性位点等）
    标注候选编辑窗口
5. 生成编辑计划（EditPlan），选择递送策略（Deliver）
6. 培养/孵育生成编辑结果，并进行表型验证（Validate）
7. 通过报告体系与项目评分完成“科研闭环”

---

## 项目结构

> 实际包名与 `modid` 以仓库为准；以下为推荐结构。

```
src/main/java/<base-package>/
  registry/   # 注册
  data/       # 数据模型：GenomeRef/Patch/Sample/ReadSet/Reports
  genome/     # baseAt/slice/2bit/motif/patch叠加
  machines/   # 各设备BlockEntity与逻辑
  screens/    # GUI
  network/    # C2S/S2C协议、限流、缓存
  projects/   # 任务线、评分、里程碑
  ethics/     # 案例库、合规评分、免责声明
  util/       # 通用工具

src/main/resources/
  fabric.mod.json
  assets/<modid>/
    lang/zh_cn.json
    textures/... (占位)
```

---

 路线图（Roadmap）

 Phase 1：可运行骨架 + 终端原型（Alpha）

 工程脚手架可运行
 Genome 引擎（baseAt/slice/2bit/patch） + 单测
 网络切片协议 + 终端分页 GUI（最小可用）

 Phase 2：MVP 科研闭环（Beta）

 DNA → PCR → Gel → Sequencing → Edit → Delivery → Incubate → Phenotype 全链路打通（抽象）
 报告系统与项目评分系统上线
 伦理案例库菜单上线（至少一个案例模块）

 Phase 3：扩展与拟真度提升（1.0+）

 更丰富的编辑器模型（精密编辑扩展）
 更多递送策略与上下文差异
 可插拔 GenomeProvider（探索云端切片）
 更多项目线与更强报告系统

---

 已知限制与注意事项

 开发中：功能可能频繁变更，存档兼容性不保证
 目前所有“实验流程”均为**模拟抽象**：不提供现实实验参数或操作指南
 性能优先：终端仅按窗口显示序列，不支持全量渲染
 多人联机：以服务器权威为基础，仍需持续测试优化

---

 伦理与免责声明

 本模组为教学/模拟用途，用于帮助理解科研流程、证据链、风险与伦理讨论。
 模组不提供任何可用于现实世界进行生物实验或基因编辑的“可执行操作配方/参数/流程”。
 伦理案例库旨在促进合规与风险意识：以客观、审慎方式呈现争议事件的决策结构与后果，不鼓励、不美化不当行为。
 使用本模组产生的任何“模拟结果”不具备现实意义。

---

## 贡献指南

欢迎以开发者/测试者身份参与（尤其是 Java/Fabric、GUI、数据结构、报告系统、教育内容审阅）。

建议流程：

1. Fork 仓库 → 建分支 → 提交 PR
2. PR 必须说明：变更内容、影响范围、测试方式
3. 重要逻辑变更建议附带单元测试

更多细节请见 `CONTRIBUTING.md` 与 `DESIGN.md`（若仓库已包含）。


---

**再次强调：本项目仍处于开发阶段（WIP）**
如果你是早期使用者/测试者，建议关注仓库更新与 Roadmap，或在 Issue 中反馈需求与 bug。

```
::contentReference[oaicite:0]{index=0}
```
